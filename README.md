# db-hack

–°–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–≥–æ –¥–Ω–µ–≤–Ω–∏–∫–∞.  
–ü–æ–∑–≤–æ–ª—è—é—Ç –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –æ—Ü–µ–Ω–∫–∏, —É–¥–∞–ª—è—Ç—å –∑–∞–º–µ—á–∞–Ω–∏—è –∏ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ—Ö–≤–∞–ª—É.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
   ```sh
   git clone https://github.com/–¢–í–û–ô_GITHUB/e-diary-scripts.git
   cd e-diary-scripts
   ```

2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å —Å–∞–π—Ç–æ–º (–µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç—ã —Ä—è–¥–æ–º —Å `manage.py`):**
   ```sh
   cd ~/e-diary
   ```

3. **–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
   ```sh
   source venv/bin/activate
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Django Shell:**
   ```sh
   python manage.py shell
   ```

5. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –ø–æ—Ö–≤–∞–ª—ã):**
   ```python
   exec(open("commendations.py").read())
   ```

6. **–í—ã–∑–æ–≤–∏—Ç–µ –Ω—É–∂–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –ø–æ—Ö–≤–∞–ª—ã:**
   ```python
   create_commendation("–§—Ä–æ–ª–æ–≤ –ò–≤–∞–Ω", "–ú—É–∑—ã–∫–∞")
   ```

---

## üîπ –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏

### `fix_marks.py` ‚Äì –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫
- `fix_marks(schoolkid)`: –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ –¥–≤–æ–π–∫–∏ –∏ —Ç—Ä–æ–π–∫–∏ –Ω–∞ –ø—è—Ç—ë—Ä–∫–∏.

### `fix_chastisements.py` ‚Äì –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–º–µ—á–∞–Ω–∏–π
- `remove_chastisements(schoolkid)`: –£–¥–∞–ª—è–µ—Ç –≤—Å–µ –∑–∞–º–µ—á–∞–Ω–∏—è —É—á–µ–Ω–∏–∫–∞.

### `commendations.py` ‚Äì –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ö–≤–∞–ª—ã
- `create_commendation(schoolkid_name, subject_title)`:  
  –î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ—Ö–≤–∞–ª—É –Ω–∞ **–ø–æ—Å–ª–µ–¥–Ω–∏–π —É—Ä–æ–∫** –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –ø—Ä–µ–¥–º–µ—Ç—É.

---

## **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**
```python
# –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –æ—Ü–µ–Ω–∫–∏ –í–∞–Ω–∏
exec(open("fix_marks.py").read())
kid = Schoolkid.objects.get(full_name__contains="–§—Ä–æ–ª–æ–≤ –ò–≤–∞–Ω")
fix_marks(kid)

# –£–¥–∞–ª—è–µ–º –∑–∞–º–µ—á–∞–Ω–∏—è –í–∞–Ω–∏
exec(open("fix_chastisements.py").read())
remove_chastisements(kid)

# –î–æ–±–∞–≤–ª—è–µ–º –ø–æ—Ö–≤–∞–ª—É –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ
exec(open("commendations.py").read())
create_commendation("–§—Ä–æ–ª–æ–≤ –ò–≤–∞–Ω", "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞")
```

